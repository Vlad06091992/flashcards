import{r as f,a as p}from"./index-8ee6c85d.js";import{m as G,n as F,o as J,p as Q,u as w,q as X,r as Z,s as ee,t as te,v as b}from"./personal-information-208f8cba.js";function re(){const e=G();let r=null,t=null;return{clear(){r=null,t=null},notify(){e(()=>{let a=r;for(;a;)a.callback(),a=a.next})},get(){let a=[],n=r;for(;n;)a.push(n),n=n.next;return a},subscribe(a){let n=!0,o=t={callback:a,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!n||r===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}const A={notify(){},get:()=>[]};function ae(e,r){let t,a=A;function n(h){return d(),a.subscribe(h)}function o(){a.notify()}function i(){u.onStateChange&&u.onStateChange()}function l(){return!!t}function d(){t||(t=r?r.addNestedSub(i):e.subscribe(i),a=re())}function s(){t&&(t(),t=void 0,a.clear(),a=A)}const u={addNestedSub:n,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:l,trySubscribe:d,tryUnsubscribe:s,getListeners:()=>a};return u}const ne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oe=ne?f.useLayoutEffect:f.useEffect;function Le({store:e,context:r,children:t,serverState:a,stabilityCheck:n="once",noopCheck:o="once"}){const i=f.useMemo(()=>{const s=ae(e);return{store:e,subscription:s,getServerState:a?()=>a:void 0,stabilityCheck:n,noopCheck:o}},[e,a,n,o]),l=f.useMemo(()=>e.getState(),[e]);oe(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),l!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,l]);const d=r||F;return f.createElement(d.Provider,{value:i},t)}const{makeDecorator:ie,addons:O}=__STORYBOOK_MODULE_PREVIEW_API__;var y="storybook/react-router-v6",se="reactRouter",c={CLEAR:`${y}/clear`,NAVIGATION:`${y}/navigation`,STORY_LOADED:`${y}/story-loaded`,ROUTE_MATCHES:`${y}/route-matches`,ACTION_INVOKED:`${y}/action_invoked`,ACTION_SETTLED:`${y}/action_settled`,LOADER_INVOKED:`${y}/loader_invoked`,LOADER_SETTLED:`${y}/loader_settled`},U=p.createContext([]),V=p.createContext(void 0),ue=f.createContext({outlet:null,matches:[],isDataRoute:!1}),T;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(T||(T={}));var x;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(x||(x={}));var _;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(_||(_={}));new Promise(()=>{});function le(){let[e,r]=f.useState([]),t=ue;return t.Provider._context=new Proxy(t.Provider._context??{},{set(a,n,o){return n==="_currentValue"&&o!==void 0&&r(i=>o.matches.length>i.length?o.matches:i),Reflect.set(a,n,o)}}),e}function ce(e){let r={};return e.forEach((t,a)=>{if(t instanceof File){r[a]={filename:t.name,filesize:t.size,filetype:t.type};return}r[a]=t}),r}async function C(e){let r=e.clone(),t=r.headers.get("content-type")||"",a;switch(!0){case t.startsWith("text"):a=await r.text();break;case t.startsWith("application/json"):a=await r.json();break;case t.startsWith("multipart/form-data"):case t.startsWith("application/x-www-form-urlencoded"):{a=ce(await r.formData());break}}return a}var $=()=>{let e=f.useRef(0);return f.useCallback(async(r,t)=>{e.current++;let a=`${r}_${e.current}`;switch(r){case c.ACTION_INVOKED:{let{request:n,params:o,context:i}=t,l={url:n.url,method:n.method,body:await C(n)};return{key:a,type:r,data:{params:o,request:l,context:i}}}case c.ACTION_SETTLED:return{key:a,type:r,data:t};case c.LOADER_INVOKED:{let{request:n,params:o,context:i}=t,l={url:n.url,method:n.method,body:await C(n)};return{key:a,type:r,data:{params:o,request:l,context:i}}}case c.LOADER_SETTLED:return{key:a,type:r,data:t}}},[])};function de(){let e=O.getChannel(),r=$();return f.useCallback(t=>async function(a){if(t===void 0)return;e.emit(c.ACTION_INVOKED,await r(c.ACTION_INVOKED,a));let n=await t(a);return e.emit(c.ACTION_SETTLED,await r(c.ACTION_SETTLED,n)),n},[e,r])}function he(){let e=O.getChannel(),r=$();return f.useCallback(t=>async function(a){if(t===void 0)return;e.emit(c.LOADER_INVOKED,await r(c.LOADER_INVOKED,a));let n=await t(a);return e.emit(c.LOADER_SETTLED,await r(c.LOADER_SETTLED,n)),n},[e,r])}function fe(){let e=de(),r=he(),t=f.useCallback(a=>a.map(n=>{let{action:o,loader:i,children:l,lazy:d}=n,s={...n};return d&&(s.lazy=async function(){let u=await d(),h={...u};return u.action&&(h.action=e(u.action)),u.loader&&(h.loader=r(u.loader)),h}),o&&(s.action=e(o)),i&&(s.loader=r(i)),l&&(s.children=t(l)),s}),[e,r]);return t}var M=()=>{let e=p.useContext(V);if(e===void 0)throw new Error("useStory should be used inside <StoryContext>");return e};function H(e,r){if(e.length===1&&(e[0].children===void 0||e[0].children.length===0))return[{...e[0],element:r}];let t=e.findIndex(a=>a.useStoryElement);if(t!==-1){let a=Array.from(e);return a.splice(t,1,{...e[t],element:r}),a}return e.map(a=>a.children?{...a,children:H(a.children,r)}:a)}var I;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(I||(I={}));function N(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}var L;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(L||(L={}));function k(e,r){r===void 0&&(r={});let t=e;return t.endsWith("*")&&t!=="*"&&!t.endsWith("/*")&&(pe(!1,'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".')),t=t.replace(/\*$/,"/*")),t.replace(/^:(\w+)(\??)/g,(a,n,o)=>{let i=r[n];return o==="?"?i??"":(i==null&&N(!1,'Missing ":'+n+'" param'),i)}).replace(/\/:(\w+)(\??)/g,(a,n,o)=>{let i=r[n];return o==="?"?i==null?"":"/"+i:(i==null&&N(!1,'Missing ":'+n+'" param'),"/"+i)}).replace(/\?/g,"").replace(/(\/?)\*/,(a,n,o,i)=>{let l="*";return r[l]==null?i==="/*"?"/":"":""+n+r[l]})}function pe(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}var K=["post","put","patch","delete"];new Set(K);var me=["get",...K];new Set(me);function ye({navigationHistory:e,location:r,routes:t}){if(e!==void 0){let h=[],E,R=Object.values(e);for(let g=0;g<R.length;g++){let{path:v,pathParams:D,searchParams:j,hash:B,state:q,isInitialLocation:Y}=R[g];Y&&(E=g);let P=S(t),z=(typeof v=="function"?v(P,D??{}):v)??P;h.push({pathname:k(z??"/",D),search:new URLSearchParams(j).toString(),hash:B,state:q})}return E??(E=h.length-1),{initialEntries:h,initialIndex:E}}let{path:a,pathParams:n,searchParams:o,hash:i,state:l}=r??{},d=S(t),s=(typeof a=="function"?a(d,n??{}):a)??d,u=0;return{initialEntries:[{pathname:k(s,n),search:new URLSearchParams(o).toString(),hash:i,state:l}],initialIndex:u}}function S(e=[],r="/"){if(e.length!==1)return r;let t=e[0],a=Ee(r,t.path);return t.children===void 0||t.children.length===0?a:S(t.children,a)}function Ee(e,r=""){let t=["","/"],a=e.split("/").filter(o=>!t.includes(o)),n=r.split("/").filter(o=>!t.includes(o));return"/"+[...a,...n].join("/")}function m(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function ge(e){return arguments.length===0?[]:Array.isArray(e)?e:[e]}function ve(e){var r;return e===void 0?[{path:"/"}]:typeof e=="string"?[{path:e}]:(e=ge(e),e.length===1&&((r=e[0]).path??(r.path="/")),e)}var W=()=>p.useContext(U);function be(e){let r={};return e.forEach((t,a)=>{let n=r[a];if(typeof n=="string"){r[a]=[n,t];return}if(Array.isArray(n)){r[a]=[...n,t];return}r[a]=t}),r}var Se=()=>{let e=w(),r=e.pathname;return e.search.length>0&&(r+=`?${e.search}`),e.hash.length>0&&(r+=`#${e.hash}`),r},we=()=>{let e=f.useRef(0),r=w(),t=X(),[a]=Z(),n=ee(),o=W(),i=be(a),l=Se(),d=o.map(u=>{let h={path:u.route.path};return Object.keys(u.params).length>0&&(h.params=u.params),h}),s={url:l,path:r.pathname,routeParams:t,searchParams:i,hash:r.hash,routeState:r.state,routeMatches:d};return u=>{e.current++;let h=`${u}_${e.current}`;switch(u){case c.STORY_LOADED:return{key:h,type:u,data:s};case c.NAVIGATION:return{key:h,type:u,data:{...s,navigationType:n}};case c.ROUTE_MATCHES:return{key:h,type:u,data:{matches:d}}}}};function Oe(){let{renderStory:e,storyContext:r}=M(),t=O.getChannel(),a=w(),n=W(),o=we(),i=f.useRef(),l=f.useRef(),d=f.useRef(),s=i.current!==void 0,u=s&&a.key!==i.current;return u&&l.current!==a.key&&(t.emit(c.NAVIGATION,o(c.NAVIGATION)),l.current=a.key),u&&n.length>0&&n!==d.current&&t.emit(c.ROUTE_MATCHES,o(c.ROUTE_MATCHES)),!s&&n.length>0&&(t.emit(c.STORY_LOADED,o(c.STORY_LOADED)),i.current=a.key,d.current=n),d.current=n,p.createElement(p.Fragment,null,e(r))}function Re(){let{addonParameters:e={}}=M(),{hydrationData:r,routing:t,navigationHistory:a,location:n}=e,o=fe(),i=f.useMemo(()=>{let l=ve(t),d=o(l),s=H(d,p.createElement(Oe,null)),{initialEntries:u,initialIndex:h}=ye({navigationHistory:a,location:n,routes:s});return J(s,{initialEntries:u,initialIndex:h,hydrationData:r})},[o,r,n,a,t]);return p.createElement(Q,{router:i,fallbackElement:p.createElement(De,null)})}function De(){return p.createElement("p",null,"Performing initial data load")}var Pe=({renderStory:e,storyContext:r,addonParameters:t})=>{let a=le();return p.createElement(V.Provider,{value:{renderStory:e,storyContext:r,addonParameters:t}},p.createElement(U.Provider,{value:a},p.createElement(Re,null)))};function Ae(e){if(p.isValidElement(e))return!0;switch(!0){case p.isValidElement(e):case typeof e=="string":case typeof e=="number":case typeof e=="boolean":case e===null:case e===void 0:case(e instanceof Object&&m(e,Symbol.iterator)):return!0}return!1}function Te(e){return Ae(e)?{element:e}:e}function xe(e={}){let r=["location","navigationHistory","routing"];if(Object.keys(e??{}).some(a=>r.includes(a)))return e;let t={routing:{},location:{},hydrationData:void 0};if(m(e,"routePath")&&(t.location.path=e.routePath,t.routing.path=e.routePath),m(e,"routeParams")&&(t.location.pathParams=e.routeParams),m(e,"routeState")&&(t.location.state=e.routeState),m(e,"routeHandle")&&(t.routing.handle=e.routeHandle),m(e,"searchParams")&&(t.location.searchParams=e.searchParams),m(e,"browserPath")&&(t.location.path=e.browserPath),m(e,"loader")&&(t.routing.loader=e.loader),m(e,"action")&&(t.routing.action=e.action),m(e,"errorElement")&&(t.routing.errorElement=e.errorElement),m(e,"hydrationData")&&(t.hydrationData=e.hydrationData),m(e,"shouldRevalidate")&&(t.routing.shouldRevalidate=e.shouldRevalidate),m(e,"routeId")&&(t.routing.id=e.routeId),m(e,"outlet")){let a=Te(e.outlet);a.path??(a.path=""),t.routing.children=[a]}return t.routing.useStoryElement=!0,t}var ke=ie({name:"withRouter",parameterName:se,wrapper:(e,r,{parameters:t})=>{let a=xe(t);return p.createElement(Pe,{renderStory:e,storyContext:r,addonParameters:a})}});const _e=te({reducer:{[b.reducerPath]:b.reducer},middleware:e=>e().concat(b.middleware)});let Ce=_e.getState();console.log(Ce);export{Le as P,ke as W,_e as s};
//# sourceMappingURL=store-266e88af.js.map
